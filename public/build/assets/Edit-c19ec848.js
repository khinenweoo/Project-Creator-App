import{W as f,j as e,Y as N,a as v}from"./app-5858095f.js";import{L as _}from"./layout-2e57917c.js";import{D as y}from"./dropdown.esm-6d0b476a.js";import{I as c}from"./inputtext.esm-f681e55a.js";import{I as D}from"./inputtextarea.esm-21242d99.js";import{I as n}from"./InputError-a243d388.js";import{B as r}from"./button.esm-0c1e1465.js";import"./index.esm-b3326b5f.js";import"./index.esm-221320df.js";import"./overlayservice.esm-c8b303ea.js";import"./index.esm-2d5cbb4c.js";function B({auth:u,project:a}){const i=(a==null?void 0:a.data)||a||{},p=(a==null?void 0:a.data.id)||a.id,l=[{name:"pending",code:"pending"},{name:"in_progress",code:"in_progress"},{name:"completed",code:"completed"}],x=l.find(s=>s.code===i.status)||null,{data:t,setData:o,post:g,errors:m}=f({image:null,image_path:i.image_path||null,name:i.name||"",status:x,description:i.description||"",due_date:i.due_date1||"",_method:"PUT"}),h=s=>{const d=l.find(b=>b.code===s.code);o("status",d)},j=s=>{s.preventDefault();const d={...t,update_status:t.status?t.status.code:""};g(route("project.update",p),{project:d})};return e.jsxs(_,{user:u.data,children:[e.jsx(N,{title:"Project Edit"}),e.jsx("div",{className:"card",children:e.jsxs("section",{className:"max-w-xl",children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium",children:"Edit Project"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:['Edit your project "',i.name,'".']})]}),e.jsx("form",{onSubmit:j,className:"mt-4 space-y-6",children:e.jsxs("div",{className:"p-fluid formgrid grid",children:[e.jsx("div",{className:"mb-3 col-12 md:col-12",children:t.image_path&&e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:t.image_path,alt:"Project",className:"w-12rem h-12rem border-round border-teal-600"})})}),e.jsxs("div",{className:"mb-3 col-12 md:col-6",children:[e.jsx("label",{htmlFor:"image",className:"block text-900 font-medium mb-2",children:"Project Image"}),e.jsx(c,{id:"project_image_path",type:"file",name:"image",className:"mt-1 block w-full",onChange:s=>o("image",s.target.files[0])}),e.jsx(n,{message:m.image,className:""})]}),e.jsxs("div",{className:"mb-3 col-12 md:col-6",children:[e.jsx("label",{htmlFor:"email",className:"block text-900 font-medium mb-2",children:"Project Name"}),e.jsx(c,{id:"project_name",type:"text",name:"name",value:t.name,onChange:s=>o("name",s.target.value)}),e.jsx(n,{message:m.name,className:""})]}),e.jsxs("div",{className:"mb-3 col-12 md:col-6",children:[e.jsx("label",{htmlFor:"status",className:"block text-900 font-medium mb-2",children:"Status"}),e.jsx(y,{id:"status",name:"status",value:t.status,onChange:s=>h(s.value),options:l,optionLabel:"name",placeholder:"Select Status"}),e.jsx(n,{message:m.status,className:""})]}),e.jsxs("div",{className:"mb-3 col-12 md:col-6",children:[e.jsx("label",{htmlFor:"due_date",className:"block text-900 font-medium mb-2",children:"Due Date"}),e.jsx(c,{id:"due_date",type:"date",name:"due_date",value:t.due_date,onChange:s=>o("due_date",s.target.value)}),e.jsx(n,{message:m.due_date,className:""})]}),e.jsxs("div",{className:"mb-3 col-12",children:[e.jsx("label",{htmlFor:"project_description",className:"block text-900 font-medium mb-2",children:"Project Description"}),e.jsx(D,{id:"project_description",name:"description",value:t.description,onChange:s=>o("description",s.target.value),rows:4}),e.jsx(n,{message:m.description,className:"mt-2"})]}),e.jsxs("div",{className:"col-12 mt-4 text-right flex justify-content-end gap-3",children:[e.jsx(v,{href:route("projects.index"),className:"",children:e.jsx(r,{label:"Cancel",type:"button",className:"p-button-outlined mr-2"})}),e.jsx(r,{label:"Update",type:"submit",severity:"info",className:"w-auto bg-indigo-500 hover:bg-indigo-700 focus:bg-indigo-600 active:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",icon:"pi pi-check"})]})]})})]})})]})}export{B as default};
