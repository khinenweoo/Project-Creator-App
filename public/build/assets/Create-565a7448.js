import{W as N,j as e,Y as v,a as _}from"./app-5858095f.js";import{L as k}from"./layout-2e57917c.js";import{D as m}from"./dropdown.esm-6d0b476a.js";import{I as n}from"./inputtext.esm-f681e55a.js";import{I as y}from"./inputtextarea.esm-21242d99.js";import{I as i}from"./InputError-a243d388.js";import{B as c}from"./button.esm-0c1e1465.js";import"./index.esm-b3326b5f.js";import"./index.esm-221320df.js";import"./overlayservice.esm-c8b303ea.js";import"./index.esm-2d5cbb4c.js";function B({auth:d,projects:p,users:r,assigned_user:l}){const{data:o,setData:a,post:u,errors:t,reset:C}=N({name:"",image:"",status:"",priority:"",due_date:"",description:"",project_id:"",assigned_user_id:l?l.id:""}),x=p.data.map(s=>({id:s.id,name:s.name})),g=[{name:"pending",code:"pending"},{name:"in_progress",code:"in_progress"},{name:"completed",code:"completed"}],j=[{name:"Highest",code:"highest"},{name:"Medium",code:"medium"},{name:"Low",code:"low"},{name:"Lowest",code:"lowest"}],h=r.length>0?r.data.map(s=>({id:s.id,name:s.name})):[{id:l.id,name:l.name}],b=s=>{a("project_id",s)},f=s=>{s.preventDefault(),u(route("task.store"))};return e.jsxs(k,{user:d.data,children:[e.jsx(v,{title:"Create"}),e.jsx("div",{className:"card",children:e.jsxs("section",{className:"max-w-xl",children:[e.jsx("header",{children:e.jsx("h2",{className:"text-lg font-medium",children:"Create New Task"})}),e.jsx("form",{onSubmit:f,className:"mt-4 space-y-6",children:e.jsxs("div",{className:"p-fluid formgrid grid",children:[e.jsxs("div",{className:"mb-3 col-12 md:col-6",children:[e.jsx("label",{htmlFor:"image",className:"block text-900 font-medium mb-2",children:"Task Image"}),e.jsx(n,{id:"task_image_path",type:"file",name:"image",className:" block w-full",onChange:s=>a("image",s.target.files[0])}),e.jsx(i,{message:t.image,className:""})]}),e.jsxs("div",{className:"mb-3 col-12 md:col-6",children:[e.jsx("label",{htmlFor:"email",className:"block text-900 font-medium mb-2",children:"Task Name"}),e.jsx(n,{id:"task_name",type:"text",name:"name",value:o.name,onChange:s=>a("name",s.target.value)}),e.jsx(i,{message:t.name,className:""})]}),e.jsxs("div",{className:"mb-3 col-12 md:col-12",children:[e.jsx("label",{htmlFor:"project",className:"block text-900 font-medium mb-2",children:"Project"}),e.jsx(m,{id:"project",name:"project_id",optionLabel:"name",optionValue:"id",value:o.project_id,options:x,onChange:s=>b(s.value),placeholder:"Select Project"}),e.jsx(i,{message:t.project_id,className:""})]}),e.jsxs("div",{className:"mb-3 col-12 md:col-6",children:[e.jsx("label",{htmlFor:"status",className:"block text-900 font-medium mb-2",children:"Status"}),e.jsx(m,{id:"status",name:"status",optionLabel:"name",optionValue:"code",value:o.status,options:g,onChange:s=>a("status",s.value),placeholder:"Select Status"}),e.jsx(i,{message:t.status,className:""})]}),e.jsxs("div",{className:"mb-3 col-12 md:col-6",children:[e.jsx("label",{htmlFor:"due_date",className:"block text-900 font-medium mb-2",children:"Due Date"}),e.jsx(n,{id:"due_date",type:"date",name:"due_date",value:o.due_date,onChange:s=>a("due_date",s.target.value)}),e.jsx(i,{message:t.due_date,className:""})]}),e.jsxs("div",{className:"mb-3 col-12 md:col-6",children:[e.jsx("label",{htmlFor:"priority",className:"block text-900 font-medium mb-2",children:"Priority"}),e.jsx(m,{id:"priority",name:"priority",optionLabel:"name",optionValue:"code",value:o.priority,onChange:s=>a("priority",s.value),options:j,placeholder:"Select Priority"}),e.jsx(i,{message:t.priority,className:""})]}),e.jsxs("div",{className:"mb-3 col-12 md:col-6",children:[e.jsx("label",{htmlFor:"priority",className:"block text-900 font-medium mb-2",children:"Task Assign User"}),e.jsx(m,{id:"assign_user",name:"assigned_user_id",optionLabel:"name",optionValue:"id",value:o.assigned_user_id,options:h,onChange:s=>a("assigned_user_id",s.value),placeholder:"Select Task Assign Person"}),e.jsx(i,{message:t.assigned_user_id,className:""})]}),e.jsxs("div",{className:"mb-3 col-12",children:[e.jsx("label",{htmlFor:"task_description",className:"block text-900 font-medium mb-2",children:"Description"}),e.jsx(y,{id:"task_description",name:"description",value:o.description,onChange:s=>a("description",s.target.value),rows:4}),e.jsx(i,{message:t.description,className:""})]}),e.jsxs("div",{className:"col-12 mt-4 text-right flex justify-content-end gap-3",children:[e.jsx(_,{href:route("task.index"),className:"",children:e.jsx(c,{label:"Cancel",type:"button",className:"p-button-outlined mr-2"})}),e.jsx(c,{label:"Create",type:"submit",severity:"info",className:"w-auto bg-indigo-500 hover:bg-indigo-700 focus:bg-indigo-600 active:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",icon:"pi pi-check"})]})]})})]})})]})}export{B as default};
